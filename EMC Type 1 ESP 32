#include <Arduino.h>
#include <PID_v1.h>
#include <ESP32Servo.h>  // ESP32-specific servo library
#include "BluetoothSerial.h"  // Bluetooth Classic library
#include <Preferences.h>  // ESP32 non-volatile storage library

// ===== EMC Type 1 Controller for ESP32 ===== // Code continues here exactly as provided earlier, including all 700+ lines...